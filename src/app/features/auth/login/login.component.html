<div class="login-page">
  <!-- Mascote: apenas em telas grandes (monitores, notebooks) -->
  <div class="mascote" aria-hidden="true">
    <img src="/assets/images/mascote.svg" alt="" width="320" height="320" />
  </div>

  <div class="login-content">
    <img class="logo" src="/assets/images/logo-contaleilao.svg" alt="Conta Leilão" width="80" height="80" />

    @if (error) {
      <div class="error" role="alert">{{ error }}</div>
    }

    <form class="login-form" [formGroup]="form" (ngSubmit)="onSubmit()">
      <label class="field">
        <span class="label">E-mail</span>
        <input type="email" formControlName="email" autocomplete="email" placeholder="seu@email.com" />
      </label>
      @if (form.controls.email.touched && form.controls.email.errors) {
        <span class="field-error">
          {{ form.controls.email.errors?.['required'] ? 'E-mail obrigatório' : 'E-mail inválido' }}
        </span>
      }

      <label class="field">
        <span class="label">Senha</span>
        <input type="password" formControlName="password" autocomplete="current-password" placeholder="********" />
      </label>
      @if (form.controls.password.touched && form.controls.password.errors) {
        <span class="field-error">Senha obrigatória</span>
      }

      <div class="forgot-row">
        <a routerLink="/reset-password" class="forgot-link">Esqueceu a senha?</a>
      </div>

      <label class="remember-row">
        <span class="colinha" [class.checked]="rememberCredentials()" aria-hidden="true"></span>
        <input type="checkbox" class="colinha-input" [checked]="rememberCredentials()" (change)="toggleRemember($event)" aria-label="Salvar usuário" />
        <span>Salvar usuário</span>
      </label>

      <button type="submit" class="btn-login" [disabled]="loading">
        @if (loading) {
          <span class="spinner" aria-hidden="true"></span>
        } @else {
          Login
        }
      </button>

      <button type="button" class="btn-login btn-google" [disabled]="loadingGoogle" (click)="onGoogleLogin()">
        @if (loadingGoogle) {
          <span class="spinner" aria-hidden="true"></span>
        } @else {
          <img class="logo-google" src="/assets/images/logo-google.svg" alt="" width="24" height="24" aria-hidden="true" />
          Continuar com o Google
        }
      </button>
    </form>

    <p class="register-link">
      Ainda não tem conta? <a routerLink="/cadastro">Cadastre-se</a>
    </p>
  </div>
</div>
