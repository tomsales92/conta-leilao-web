<div class="reset-page">
  <div class="auth-card">
  <h1>Redefinir senha</h1>
  <p class="subtitle">Enviaremos um link para seu e-mail</p>

  @if (error) {
    <div class="error" role="alert">{{ error }}</div>
  }
  @if (success) {
    <div class="success" role="status">
      Verifique seu e-mail e use o link para definir uma nova senha.
    </div>
  }

  @if (!success) {
    <form [formGroup]="form" (ngSubmit)="onSubmit()">
      <label>
        E-mail
        <input type="email" formControlName="email" autocomplete="email" />
      </label>
      @if (form.controls.email.touched && form.controls.email.errors) {
        <span class="field-error">E-mail inválido</span>
      }

      <button type="submit" [disabled]="loading">
        {{ loading ? 'Enviando…' : 'Enviar link' }}
      </button>
    </form>
  }

  <p class="links">
    <a routerLink="/login">Voltar ao login</a>
  </p>
  </div>
</div>
